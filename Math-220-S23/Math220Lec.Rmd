
---
title: "Math 220 Spring 20203 Lecture Notes"
author: "Alice Miller"
date: "Updated: `r format(Sys.time(), '%d %B, %Y')`"
output: 
  html_document:
    toc: true
    toc_depth: 3
    theme: yeti

      
  
---

```{r setup, include=FALSE}

                                                                          #
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)      #
                                                                          #
library(tidyverse)           #The tidyverse has all of our data tools     #
library(ggthemes)            #ggthemes makes our graphs look nicer        #
                                                                          # 
theme_set(                                #this sets the theme for all    #
  theme_tufte() +                         #plots that we make             #
  theme(text=element_text(family="sans")) + 
  theme(axis.text.x = element_text(angle=-90))                            #
  )                                                                       #
                                                                          #
                                                                          #
                                                                          #

```





## Math 220 Notes




Hi!  This is RSTudio!


```{r}
2+2
```

# Week 1

## Wed Jan 18

### Data Basics

Many formats for data!

Here (and in all DA classes), we only care about RECTANGULAR DATA ("tidy data"):

3 things:

- rows are CASES (individuals).  Ie, from what person/animal/thing/whatev did we record?  Eg: you guys!
  remember:  rows are horizontal!
- columns are VARIABLES.  Ie, the qualities of the individuals that we care about!
   columns are vertical!
- each "cell" must contain ONLY one observation/measurement

### Types of Data

Big breakdown:  numerical (quantitative) or categorical (qualitative)
               ie:  number or not!
               
All together, 4 types:

-  discrete numerical data.  "countable".  Actually counting real object/things/ideas.
-  continuous numerical data.  "measureable". 
   Eg:  weight, volume, duration of time, etc.  
     
        Philosopical note:  be careful about WHAT you're measuring.  Ex:
        Age = integer number of years.  discrete.
        Age = duration of time living on earth.  continuous.  
        height = measuring tape.  continuous.  Possible to be 66.1", 66.7", 69.23423423"
        
        Weird example:  money.  gas?  pennies?  currency conversions? interest!
              Class agreement:  money is continous. 
              
- nominal categorical.  categorical, no INTRINSIC order.  
- ordinal categorical.  categrocial, YES natural order

MORAL OF THE STORY:  Not all data is the same.  We use DIFFERENT TOOLS for different types!

### Saying smart things about data (descriptive/summary stats)

Summary statistics for Categorical data:  proportion!

Ex:  In our class, 9/15 students had black hair.

phat:
```{r}
9/15
```


Summary statistics for Quantitative data:

For quant variables, always describe:

1) center.
2) spread.
3) shape.












## Friday Jan 20

### Quantitative Variables (saying something smart)

Note:  it doesn't make sense to talk about ONE number in a dataset.  Instead, we care about ALL of them, at the same time!  "Distribution".

ALWAYS MAKE A PICTURE FIRST!


For numerical data:  HISTOGRAM!

Ex:  class data:

```{r include=FALSE}
ourData <- read.csv("StudentData.csv")
```


```{r}
head(ourData)
```
Q:  what can we say about your height?

Hist!

```{r}
hist(ourData$Height..inches.)
```
Observations:  
 - typical height is around 67/68
 - spread:  looks like "most" values are btwn 62 - 72
 - looks symmetrical "ish"
 
 
 Q: what if we use more than 5 rectangles?
 
```{r}
hist(ourData$Height..inches., breaks = 10)
```
 Interesting new feature!  Bimodal!  Q:  could it be because of sex?
 
 MORAL OF THE STORY:  Follow the "Tao of the Histogram"!
 
 Ex:  our siblings
 
```{r}
hist(ourData$Number.of.Siblings, breaks = c(0,.99,1.99,2.99, 3.99))
```

Tao of the histogram!
 
### Summary Statistics
 
Ie, numerical summary of distribution.
 
- Measures of Center
  - Mean:  average!  "balancing point"
  - Median: "middle number"
  - Mode:  most common number
    
- Measures of Spread
    - Range = max - min.
       Con:  highly susceptiple to outliers.  
    - Standard deviation = "average distance btwn points and the mean"
        Formula:  on the board
        Note: must square to measure the TOTAL variation!
    - IQR.  Quartiles:  cutoffs for 25% (Q1) and 75% (Q3) in the dataset.
        IQR = Q3 - Q1
        
        Ex:  Data = {15, 16, 16, 18, 20, 27}
        
        Compute IQR = 20 - 16 = 4
        
        (M = 17, Q1 = 16, Q3 = 20)
    
         Meaning:  range of the MIDDLE 50% of the data!
         
         
A statistic is ROBUST if it is NOT strongly affected by skew or outliers.

Ex:  Data = {1,1,1,1,1,19}

Mean = 4, Med = 1.  Seems like median is better!


# Week 2





## Wed Jan 25






Distribution:  The salaries of all employees at a major corporation.

Which would provide a rosier picture of compensation:  the mean or the median?

A:  expect strong right skew (tail)!  expect mean to be bigger (since not robust).

### Outliers

Q:  what "counts" as an outlier? Need a test!

Q:  There are two sections of calculus.  Both take the same exam, both class means are the same.

Is it possible that a student who scores 95 in one section could be an outlier, but a student with same score in the other is NOT an outlier?


Yes!  Must factor in the spread!

Let's use IQR!  (robust!)

"Cutoffs" for outliers:

low =   Q1 - 1.5(Q3-Q1) 
                  IQR
hi  =.  Q3 + 1.5(Q3-Q1) 
                  IQR
                  
Ex:  Data = { 1, 2, 3, 4, 5, 6, 7, 8, 8, 20}

Q:  are there outliers?

M = 5.5 Q1 = 3, Q3 = 8,  IQR = 8-3 = 5

Cutoffs:

low:

```{r}
3 - 1.5*5
```

hi:
```{r}
8 + 1.5*5
```

### Boxplots

Great for comparison!

Ex:  iris dataset

```{r}
head(iris)
```

Ex:  sepal length

```{r}
boxplot(iris$Sepal.Length, horizontal = T)
```
Q:  compare species?

```{r}
boxplot(iris$Sepal.Length ~ iris$Species, horizontal = T)
```


### Ch 2 - Probability!

Plan:  stay to close to book!

Key building blocks:

A random process / chance experiment is any scenario where more than one unknown outcome could occur!

Ex:  Tossing a coin, rolling dice, sampling random student

Sample space = S = the set of all possible outcomes
Event.       = A = any subset of the sample space (what we care about!)

Ex:  Rolling a dice.   Let A be the event that we get an even number.
                       Let B be the event that we get a prime.

S = {1,2,3,4,5,6}
A = {2,4,6}
B = {2,3,5}

goal:  combine events into useful statements

3 tools:

 - Complement.  "not". A' is everything in S, NOT in A
 - Union.  A U B = all elements in either a OR b (could be both)
 - Intersection A intersect B = all elements in both A AND B
 
 Find:
 
 A' = {1,3,5}
 A U B = {2,3,4,5,6}
 A intersect B = {2}
 
 
 



## Friday Jan 27

2.2 Axioms of probability

The very basics!

For some event A, the probability of event A, denoted P(A), satisifies...

1). P(A) >= 0   (for any event A in our sample space S)
2). P(S) = 1.   (since S is all possibilities)
3). If A, B are mutually exclusive, then:

            P(A U B) = P(A) + P(B)

Ex) Using only the axioms, prove that P(A') = 1 - P(A)

Ex) Axioms, prove P(A) <= 1 for any A

Ex). P(A U B) = P(A) + P(B) - P(A and B)

Exercise:  prove from axioms!  (it's in the book!)

Ex). Cards!  If we draw at random, what's the prob that our card is a heart or a face?

   P(H U F) = P(H) + P(F) - P(H and F)
   
            = 13/52 + 12/52 - 3/52
            
### 2.3 - Counting Techniques

The PRODUCT RULE:  if we make a sequence of k decisions, 
        - with n1 options for the first, 
        - n2 options for the second, ....
        - nk options for the kth decision.
        
If the decision at any one stage doesn't affect any other, then there are:

         n = n1 * n2 * n3 * ... * nk total possibilities
         
Ex). We toss a coin 3 times.  How many possible outcomes?  Ex:  H H H

Ex). Roll 2 dice.  How many outcomes?

          6 * 6 = 36
        
Ex). In OH, license plates have 3 letters followed by 4 numbers.

How many plates are possible?

```{r}
26^3*10^4
```

Ex). Above, but no letter "O", can't end on an odd number.

### Permutations

Ex) How many arrangements of the letters in ALICE are there?

Ex) How many arrangments of the letters in BANANA are there?

Ex) There are 20 children.  3 swings.  How many seating arrangements are there?

###  Combinations

Ex). There are 20 children.  We need to pick a team of 3 children.  How many teams?

Problem:  teams have no arrangement/order!

What's the difference?  ORDER!!!   

Perms - order matters!

Combs - doesn't



# Week 3

## Monday Jan 30



Ex). In a tennis league, there are 16 players.  How many possible matchings are there?


Ex2). Same league.  After a competition, someone gets 1st place, 2nd place, 3rd place.  How many possible awards brackets?

Ex3). We toss 8 coins.  What's the probability of getting:
  
           H H H H T T T T
           
           H T H T H T H T
           
Ex4). We toss 8 coins.  WHat's the probability of getting exactly 4 heads?


P(Exactly 4 heads) = 70/2^8

```{r}
70/2^8
```

 
Ex5)  We toss 10 coins.  What's the probabilit of exactly 3 Heads?

Future:  binomial dist!

--------------------

Alternate version:

Ex3). Roll a dice 10 times.  What's the probability that the first 3 rolls show "4"?, no others are 4.



Ex:  4 4 4  1 2 3 2 1 5 6

Ex4). What's the prob that the LAST 3 rolls show "4"?

Same thing!

Ex5). What's the prob that EXACTLY 3 of the 10 rolls shows "4"?

Future:  binomial distribution

----------------------

### Card Example 

Ex6). Cards.

Draw a 5-card hand (from 52 card deck).  

a). How many possible hands.

```{r}
choose(52,5)
```

b) What's the probability of getting one pair?

    Ex:          3 3 J A 7
    
    
    NO:         3 3 3 A 7
    
    No:         3 3 3 3 K
    
    NO:         3 3 J J K
    
Decisions:

    - decide which kind for the pair?  13 C 1
    
    - decide which for the pair?   4 C 2
    
    - decide kinds for other 3 cards:  12 C 3
    
    - for each of the three: which suit?  4C1 * 4C1 * 4C1
    
Final:  13C1 * 4C2 * 12C3 * 4C1 * 4C1 * 4C1

Practice:  wikipedia!  Google:  "wiki poker probabilities"
 
 
### 2.4 Conditional Probability

Idea:  if it's cloudy, more likely to rain.

      P(A | B) = "the probability that A happens, GIVEN that B has occurred"
      
               = P(A and B) / P(B)
               
               
Ex) At DU,  52% of students are female, 48% male.  About 8.2% of all students are female STEM majors.

If we select a student at random, and that student is female, what's the probability that she's a STEM major?

given:  female!

Need:   P(S | F) = P(S and F)/P(F) = .082/.52






Ex) Lie detector test.  It advertises itself as 95% accurate.  This means that IF a person is lying, then there's a 95% chance of a + result.

However, we also know that if a person is NOT lying, there's a 90% chance the test shows -.

Suppose that most people (99%) are honest.

a) Draw a probability tree to summarize.

b). What's the prob a rando person tests "+"?

Only options:  L and +,   or.    L' and +

```{r}
.01*.95 + .99*.1
```

This is "Total Prob!".  Breaking it down into cases.

c) If the test says you're lying, what's the prob that you're actually lying?

P(L | + ) = P( L and + )/P(+)

Tree:
```{r}
.01*.95/(.01*.95 + .99*.1)
```

If you get +, there's only an 8.7% chance that you really lied!

Q:  Why so small?



### 2.5 Independence

Idea:  somtimes, one outcome DOES NOT AFFECT another!

Independence!

Ex:  coin tosses.

Math definition:

We say events A,B are INDEPENDENT if:

         P(A | B ) = P(A)
         
         P(B | A ) = P(B)


if one is true, so is the other.

Ex:  poker and snacks

P(P|C) 
```{r}
12/30
```
P(P)
```{r}
25/115
```

Q:  are these different enough to suggest not independent?

Ex). Text (Example 2.36)











## Friday Feb 3

Independence:  

     P(A | B) = P(A)
     P(B | A) = P(B)
     
EASY WAY TO CHECK:

         P(A and B) = P(A)*P(B)
         
Ex) Cards! Are the events "draw a heart" and "draw a face card" independent?

Justify mathematically.

      Check:    P(H and F) =? P(H)*P(F)
      
                    3/52   =?  13/52 * 12/52
                    
```{r}
3/52
```
```{r}
13/52 * 12/52
```
                    
Independent events!

### Ch 3.1 - 3.2 Probability Distributions

Idea:  think more holistically about probability.

RANDOM VARIABLE:  map each outcome in sample space to real number.

Ex1.  Roll dice.  Let X = the number that shows.
       Possible values for X = {1,2,3,4,5,6}


Ex2.  Roll two dice.  Let X = their sum.
                values for X = {2,3,4,...,11,12}
                
Ex3.  Toss a coin repeatedly until get H.  Then stop.  Let X = the number of coin tosses.
                               {1, 2, 3, .... }
                               
A *discrete* PROBABILITY DISTRIBUTION for a RV X is:

- a list of all possible values for X
- for each, an associated probability.


Notes:

- the SUPPORT for the distribution is the set of all X with nonzero prob
  {1,2,3,4,5,6}
  
- 0 <= P(x) <= 1 for all x in support

- sum( P(x) ) = 1

Ex1-3)  Construct distributions for the RVs listed above.  [Solved on the board].


### Cumulative distributions

CDF - cumulative distribution function

on board

Notes about CDF:

  -  every cdf is defined on ENTIRE REAL LINE
  -  left hand limit = ____
  -  right hand limit = ____
  
Why cdf?

A:  very useful for RANGES of options for X

Ie:

         P(a <= X <= b) = F(b) - F(a-)     <- book, p106
         
         
Ex:  What's the prob we roll a number btwn 2 and 5 (inclusive)?

        P(2 <= X <= 5) = F(5) - F(1) = 5/6 - 1/6 = 4/6
        
        


# Week 4         

## Monday Feb 6

### 3.3 Expected Value and Variance for Discrete RV

Before:  described data that happenED

Now:  expectations for the future!  prob!

### Expected Value

   E[X] = sum( x*P(X=x) )
   
Ex). Dice Distro.

```{r}
1*1/6 + 2*1/6 + 3*1/6 + 4*1/6 + 5*1/6 + 6*1/6
```

If we rolled the dice MANY times, we'd expect an average close to 3.5.

### Variance

   V[X] = 
   
Ex) Find V for dice distro.

V[X]
```{r}
(1-3.5)^2*1/6 + (2-3.5)^2*1/6 + (3-3.5)^2*1/6 + (4-3.5)^2*1/6 + (5-3.5)^2*1/6 + (6-3.5)^2*1/6
```

SD[X]
```{r}
sqrt(2.91666666)
```


### Linear Transformations of RVs


     E[ h(X) ] = sum( h(x)*P(X=x) )
     
     E[ X^2 ] = sum( x^2 * P(X=x) )
     
Linear trans: (p115)

     Y = aX1 + bX2 + c
     
     where X1, X2 are RVs, and a,b,c are constants
     
     then:
     
     E[Y] = a * E[X1] + b * E[X2] + c
     
     V[Y] = a^2 * V[X1] + b^2 * V[X2] 
     
     SD[Y] = sqrt(V[Y]).  (WARNING:  must find V first!)


Ex). A grad program values the math portion of entrance exam twice as much as the verbal.

Transf:

     Y = 2*X1 + 1*X2
     
         where X1 = math score, X2 = verbal
         
Info:

    math:   mean = 120,  stdev = 5
    verb:   mean = 160,  stdev = 7
    
Q:  What are the mean and stdev of weighted score?

E[Y] = 2*E[X1] + 1*E[X2]
     = 2*120 + 1*160
     
```{r}
2*120 + 1*160
```
     
V[Y] = 2^2*V[X1] + 1^2*V[X2]
     = 2^2 * 5^2 + 1^2 * 7^2
     
```{r}
2^2 * 5^2 + 1^2 * 7^2
```
stdev:
```{r}
sqrt(149)
```

Note: must get V first!

### 3.4-3.6 (Skip 3.5) Meet the Famous Prob Distros!

1) Bernoulli.

      X ~ bernoulli(p)             [NOTE:  p is a "parameter" ]

Only two outcomes:  X=0 (fail) or X=1 (success).

    P(X = 1) = p       (prob of success)
    P(X = 0) = 1-p
    
    E[X] = p
    V[X] = p(1-p)       <- check later!
    
2) Binomial Dist

    X ~ binom(n,p)
    
ASSUMPTIONS:

- there are a fixed number (n) of trials
- only two outcomes for each trial:  success or fail (bernoulli!)
- all trials are independent
- CONSTANT probability of success (p) in each trial

Ex). If we roll dice 10 times, what's the prob that exactly 3 of them show "4"?

  X~binom(10,1/6)
  
  
  
## Wed Feb 8

### Famous Distros

1) Bernoulli

    Support:  {0,1}
    
2). Binomial

   X~binom(n,p)
   
   X counts the number of successes out of n trials.
   
Ex). At DU, about 80% of students are from out-of-state.

If we take a sample of 6 students, what's the prob that exactly 3 of them are from out-of-state?

  X ~ binom(6, .8)
  
  P(X=3) 
  
```{r}
20*.8^3*.2^3
```
  

Binomial facts:

Support: {0,1,2,..,n}

    E[X] = n*p

    V[X] = n*p*(1-p)



3)  Geometric Distribution

   X ~ geom(p)
   
   X = the number of trials needed until the first success.
   
Ex:  We toss a coin repeatedly until get H.  WHat's the prob it takes 5 times?

P(T and T and T and T and H) = (1/2)^4 * 1/2

Ex). Suppose we choose students at random until we get one from Ohio.  (remember: 80% from out-of-state).

What's the prob that we must sample at least 3 students until we get the first from Ohio?

Support:  {1,2,3,....}

Expected Value:   E[X] = 1/p.   ONLY FOR GEOMETRIC!
Variance:         V[X] = (1-p)/p^2


4) Poisson Dist

  X ~ pois(mu)
  
  X = the number of occurrences of a random event over an interval of space/time
  
Assumptions:

   - events happen randomly and independently
   - constant chance of occurrance at any given time/place
   - the liklihood of occurance is proportionate to the length of the interval
       (more time -> more likely!)
       
       
Ex). Since 1883, Tokyo has experienced 5 earthquakes of the "most severe" category.

Assuming constant likelihood over time, what's the probability that at least one occurs in the next year?  In the next 10 years?

mu = 5quakes/140years
   = 5/140
   
P(X>=1) = P(X=1) + P(X=2) + .....
        = 1 - P(X=0)

        
```{r}
1-exp(-5/140)*(5/140)^0/1
```
        
b). next 10 years?

idea:  unit changed!  want quakes/10year period
 
  mu = 10*5/140 = 50/140
  
```{r}
1-exp(-50/140)*(50/140)^0/1
```
  
### Ch 4 - Continuous Distributions

Ex.  Height is cts.

In US, avg height for women is 64", stdev = 2.4".

What's the prob that a rando woman is EXACTLY 64.0000000000...."

A:  zero!  weird!

True for ALL cts dist:

     P(X = a) = 0        for any a!
     
So, only makes sense to talk about RANGES for cts variables.

What to do?  probability DENSITY function!





## Friday Feb 10

### Ch4: Continuous Dists

Idea:  need a DENSITY function.  f(x).  pdf. 
       probability = AREA under the curve!
       
      
### Uniform Dist

"straight line dist"

Ex) Suppose the time you wait at a bus stop varies uniformly btwn 5 and 15 min.

   X~unif(5,15)
   
a). sketch the pdf

b) What's P(X<7)

c). What's P(X<=7)

d). What's P(X=7) = 0

In general:

    X cts:     P(a <= X <= b) = P(a < X < b)
    
    WARNING:  not true for X discrete!
    
Ex). Suppose f(x) = kx^2   0 <= x <= 2.  (0 otherwise.)
     What value of k makes f(x) a valid pdf?
     
     
Ex). Compute P(X<1) = F(1)

### 4.2:  Cdf, E[X], V[X]

    cdf = all probability to the lEFT
    
    F(x) = P(X <= x)
    
    
Ex). Find cdf for above dist.  

f(x) = (3/8) x^2   0 <= x <= 2.  (0 otherwise.)

Ex). Find P( 1/2 < X < 1 ). = F(1) - F(1/2)

                            = 1^3/8 - (1/2)^3/8
                            
Ex). Find cdf for X~unif(a,b)

### E[X] and V[X]

Before:  X discrete:

   E[X] = sum( x*P(x) )
   
Now:  replace sum with integral!

   V[X] = sum( (x-mu)^2 * P(x) )
   
   
Now:  replace with integrals!


Ex.  Compute E[X] for above

f(x) = 3/8 x^2   0 <= x <= 2.  (0 otherwise.)




    
    
    
    













































    













   
   












  
 
 
 
 
 

